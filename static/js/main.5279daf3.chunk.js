(this["webpackJsonpmassenger-app"]=this["webpackJsonpmassenger-app"]||[]).push([[0],{15:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},29:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var s=n(8),a=n.n(s),c=n(16),i=n.n(c),r=(n(21),n(10)),o=(n(22),n(3)),u=function(e){var t=e.label,n=e.isContainBtn,s=e.state,a=e.setState,c=e.size,i=e.sendMsg;return n?Object(o.jsxs)("form",{action:"",children:[Object(o.jsx)("input",{autoFocus:!0,className:"big"===c?"big":"small",placeholder:t,value:s,onChange:function(e){return a(e.target.value)}}),Object(o.jsx)("button",{className:"send",onClick:function(e){e.preventDefault(),i(),a("")}})]}):Object(o.jsx)("input",{autoFocus:!0,className:"big"===c?"big":"small",placeholder:t,value:s,onChange:function(e){return a(e.target.value)}})},l=(n(15),function(e){var t=e.text;return Object(o.jsx)("div",{className:"msg my-msg",children:t})}),d=function(e){var t=e.label,n=e.text;return Object(o.jsxs)("div",{className:"msg other-msg",children:[Object(o.jsx)("h4",{children:t}),Object(o.jsx)("p",{children:n})]})},j=(n(24),n(13)),m=j.a.initializeApp({apiKey:"AIzaSyA5B6UyiuLFbXl4iwl7ic_8CSyfX5J1_DE",authDomain:"chat-app-3c653.firebaseapp.com",projectId:"chat-app-3c653",storageBucket:"chat-app-3c653.appspot.com",messagingSenderId:"841432960259",appId:"1:841432960259:web:9c4888e38d123aa4a5ad36",measurementId:"G-946BKFD816"}).firestore(),b=function(e){var t=e.myId,n=Object(s.useState)([]),a=Object(r.a)(n,2),c=a[0],i=a[1];Object(s.useEffect)((function(){m.collection("msgs").orderBy("time","desc").onSnapshot((function(e){i(e.docs.map((function(e){return{id:e.id,name:e.data().name,text:e.data().text,personId:e.data().personId}})))}))}),[]);return Object(o.jsx)("div",{className:"show-msgs",children:function(e){var n=[];return e.map((function(e){var s=e.text,a=e.name,c=e.id,i=e.personId;console.log("comming id: ",i),i!==t?n.push(Object(o.jsx)(d,{text:s,label:a},c)):n.push(Object(o.jsx)(l,{text:s},c))})),n}(c).map((function(e){return e}))})},p=(n(29),function(e){var t=e.name,n=e.setName,s=e.setMove,a=e.setMyId,c=function(){return Math.random().toString(36).substr(2,9)};return Object(o.jsxs)("div",{className:"welcome-page centered",children:[Object(o.jsx)("h2",{children:"Hello"}),Object(o.jsx)("h3",{children:"Enter your name to continue"}),Object(o.jsxs)("form",{action:"",children:[Object(o.jsx)(u,{state:t,setState:n,label:"your name"}),Object(o.jsx)("button",{onClick:function(){s(!0),a(c)},children:"Continue"})]})]})});n(30);var h=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),i=Object(r.a)(c,2),l=i[0],d=i[1],h=Object(s.useState)(""),O=Object(r.a)(h,2),g=O[0],f=O[1],x=Object(s.useState)(""),v=Object(r.a)(x,2),I=v[0],y=v[1];return console.log("current Id: ",I),Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)("h1",{className:"main-title centered-h",children:"Messanger App"}),!l&&Object(o.jsx)(p,{name:n,setName:a,setMove:d,setMyId:y}),l&&Object(o.jsxs)("div",{className:"msgs-page centered-h",children:[Object(o.jsx)(b,{myId:I}),Object(o.jsx)(u,{label:"your message",state:g,setState:f,isContainBtn:!0,size:"big",sendMsg:function(){m.collection("msgs").add({name:n||"guest",text:g,time:j.a.firestore.FieldValue.serverTimestamp(),personId:I})}})]})]})};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(h,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.5279daf3.chunk.js.map
{"version":3,"sources":["components/jsx/Input.jsx","components/jsx/MyMsg.jsx","components/jsx/OtherMsg.jsx","firebase.js","components/jsx/ShowMsgs.jsx","components/jsx/WelcomPage.jsx","App.js","index.js"],"names":["Input","label","isContainBtn","state","setState","size","sendMsg","action","autoFocus","className","placeholder","value","onChange","e","target","onClick","preventDefault","MyMsg","text","OtherMsg","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","ShowMsgs","myId","useState","messages","setMessages","useEffect","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","name","data","personId","objects","console","log","push","displayMessages","obj","WelcomPage","setName","setMove","setMyId","generateId","Math","random","toString","substr","App","myName","setMyName","move","myMsg","setMyMsg","add","time","FieldValue","serverTimestamp","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5279daf3.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../css/Input.css';\r\n\r\n\r\nconst Input = ({ label, isContainBtn, state, setState, size, sendMsg}) => {\r\n\r\n  const submitMsg = (e) => {\r\n    e.preventDefault();\r\n    sendMsg();\r\n    setState('');\r\n  }\r\n\r\n  if(isContainBtn) {\r\n    return (\r\n      <form action=\"\">\r\n        <input autoFocus className={size === 'big' ? 'big': 'small'}  placeholder={label} value={state} onChange={(e) => setState(e.target.value)}/>\r\n        <button className='send'  onClick={submitMsg}></button>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <input autoFocus  className={size === 'big' ? 'big': 'small'}  placeholder={label} value={state} onChange={(e) => setState(e.target.value)}/>\r\n  )\r\n}\r\n\r\nexport default Input\r\n","import React from 'react';\r\nimport '../css/Msgs.css';\r\n\r\n\r\nconst MyMsg = ({ text }) => {\r\n  return (\r\n    <div className='msg my-msg'>\r\n      {text}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyMsg\r\n","import React from 'react';\r\nimport '../css/Msgs.css';\r\n\r\nconst OtherMsg = ({ label, text}) => {\r\n  return (\r\n    <div className='msg other-msg'>\r\n      <h4>{label}</h4>\r\n      <p>{text}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OtherMsg\r\n","import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA5B6UyiuLFbXl4iwl7ic_8CSyfX5J1_DE\",\r\n  authDomain: \"chat-app-3c653.firebaseapp.com\",\r\n  projectId: \"chat-app-3c653\",\r\n  storageBucket: \"chat-app-3c653.appspot.com\",\r\n  messagingSenderId: \"841432960259\",\r\n  appId: \"1:841432960259:web:9c4888e38d123aa4a5ad36\",\r\n  measurementId: \"G-946BKFD816\"\r\n};\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = app.firestore();\r\n\r\nexport default db;","import React, { useEffect, useState } from 'react';\r\nimport data from '../data-test';\r\nimport MyMsg from './MyMsg';\r\nimport OtherMsg from './OtherMsg';\r\nimport '../css/ShowMsgs.css';\r\nimport db from '../../firebase';\r\n\r\nconst ShowMsgs = ({ myId }) => {\r\n  const [messages, setMessages] = useState([]); \r\n\r\n  // fetch previous messages\r\n  useEffect(() => {\r\n    db.collection('msgs').orderBy('time', 'desc').onSnapshot((snapshot) => {\r\n      setMessages(\r\n        snapshot.docs.map((doc) => {\r\n        const person = {\r\n          id: doc.id,\r\n          name: doc.data().name,\r\n          text: doc.data().text,\r\n          personId: doc.data().personId,\r\n        };\r\n        return person;\r\n      })\r\n      )\r\n      \r\n    });\r\n  }, []);\r\n\r\n  //display messages on screen\r\n  const displayMessages = (messages) => {\r\n    let objects = [];\r\n    messages.map(({ text, name, id, personId}) => {\r\n      console.log('comming id: ', personId);\r\n      if(personId !== myId) {\r\n        objects.push(<OtherMsg key={id} text={text} label={name}/>);\r\n      }\r\n      else {\r\n        objects.push( <MyMsg key={id} text={text} />);\r\n      }\r\n    })\r\n    return objects;\r\n  }\r\n  \r\n\r\n  return (\r\n    <div className='show-msgs'>\r\n      \r\n      { displayMessages(messages).map(obj => obj) }\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowMsgs;\r\n","import React from 'react';\r\nimport '../css/WelcomePage.css';\r\nimport Input from './Input';\r\n\r\n\r\nconst WelcomPage = ({ name, setName, setMove, setMyId }) => {\r\n\r\n  const generateId = () => {\r\n    let num = Math.random();\r\n    const id = num.toString(36).substr(2, 9);\r\n    return id;\r\n  }\r\n\r\n  const toMsgsPage = () => {\r\n    setMove(true);\r\n    setMyId(generateId);\r\n  }\r\n  return (\r\n    <div className='welcome-page centered'>\r\n      <h2>Hello</h2>\r\n      <h3>Enter your name to continue</h3>\r\n      <form action=\"\">\r\n        <Input state={name} setState={setName} label='your name' />\r\n        <button onClick={toMsgsPage}>Continue</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default WelcomPage\r\n","import { useState } from 'react';\nimport Input from './components/jsx/Input';\nimport ShowMsgs from './components/jsx/ShowMsgs';\nimport WelcomPage from './components/jsx/WelcomPage';\nimport db from './firebase';\nimport firebase from 'firebase';\nimport { send } from 'q';\n\nfunction App() {\n  const [myName, setMyName] = useState('');\n  const [move, setMove] = useState(false);\n  const [myMsg, setMyMsg] = useState('');\n  const [myId, setMyId] = useState('');\n\n  const sendMsg = () => {\n    db.collection('msgs').add({\n      name: myName || 'guest',\n      text: myMsg,\n      time: firebase.firestore.FieldValue.serverTimestamp(),\n      personId: myId\n    })\n  \n  };\n\nconsole.log('current Id: ', myId);\n\n  return (\n    <div className='app'>\n      <h1 className='main-title centered-h'>Messanger App</h1>\n\n      {!move && (\n        <WelcomPage name={myName} setName={setMyName} setMove={setMove} setMyId={setMyId}/>\n      )}\n\n      {move && (\n        <div className='msgs-page centered-h'>\n          <ShowMsgs myId={myId} />\n          <Input\n            label='your message'\n            state={myMsg}\n            setState={setMyMsg}\n            isContainBtn={true}\n            size='big'\n            sendMsg={sendMsg}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}